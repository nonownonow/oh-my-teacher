# 나의 과외 선생님 (OhMyTeacher) v2.0

PDF 문서 기반 AI 과외 선생님 서비스 - **3가지 모드 지원**

---

## 1. 문제 정의 & 목표

**서비스 요약**: PDF 교재 기반으로 질문에 답해주는 AI 과외 선생님

**해결하려는 문제**:
- 보안: 내부 문서를 외부 API에 전송하는 것에 대한 우려
- 비용: 상용 API 사용 시 지속적인 비용 발생
- 품질: 로컬 모델만 사용 시 답변 품질 저하

**v2.0 목표**: 보안, 비용, 품질의 균형을 사용자가 선택할 수 있도록 3가지 모드 제공

---

## 2. 3가지 모드 비교

| 구분 | GPT-4o | Ollama | 하이브리드 |
|------|--------|--------|-----------|
| **품질** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| **PDF 보안** | ❌ 외부 전송 | ✅ 로컬 | ✅ 로컬 |
| **비용** | 높음 | 무료 | 중간 |
| **속도** | 빠름 | 보통 | 느림 |

### 모드 1: GPT-4o (상용/고품질)
- OpenAI 직접 사용, 최고 품질
- PDF 내용이 외부로 전송됨

### 모드 2: Ollama (설치형/보안)
- 모든 처리가 로컬, 완벽한 보안
- GPT 대비 품질 저하

### 모드 3: 하이브리드 (벡터 증류)
- GPT 추론 능력 + Ollama 보안 결합
- **PDF 내용은 GPT에 전송하지 않고, 질문만 전송**

---

## 3. 하이브리드 모드 원리

```
[질문] ──────────────────────────────────────┐
   │                                         │
   ▼                                         ▼
┌─────────────┐                    ┌─────────────┐
│ GPT 추론    │                    │ GPT 벡터추론 │
│ (질문만)    │                    │ (의미 확장)  │
└──────┬──────┘                    └──────┬──────┘
       │ 70%                              │
       │                    ┌─────────────┘
       │                    ▼
       │         ┌─────────────────┐
       │         │ 향상된 벡터 검색 │ ← PDF (로컬)
       │         └────────┬────────┘
       │                  │ 30%
       └──────────┬───────┘
                  ▼
         ┌───────────────┐
         │ Ollama 통합   │ ← PDF 처리 (로컬)
         └───────┬───────┘
                 ▼
         ┌───────────────┐
         │ GPT 최종 교정 │ ← 초안만 전송
         └───────┬───────┘
                 ▼
           [고품질 답변]
```

**PDF 보안 유지 원리**: GPT에는 질문과 초안 답변만 전송, PDF 내용은 로컬 Ollama에서만 처리

---

## 4. 활용 시나리오

| 시나리오 | 추천 모드 |
|---------|----------|
| 일반 교과서 학습 | GPT-4o |
| 기업 내부 문서 | Ollama |
| 보안 + 품질 필요 | 하이브리드 |

---

## 5. 사용 방법

1. 사이드바에서 모드 선택
2. GPT-4o / 하이브리드 선택 시 OpenAI API Key 입력
3. PDF 파일 업로드
4. 질문 입력

---

## 6. 기술 스택

- **LLM**: GPT-4o, o1-mini, gemma3:27b
- **Vector DB**: ChromaDB
- **Framework**: LangChain, Streamlit
